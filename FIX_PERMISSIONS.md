# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Permission denied" –ø—Ä–∏ push –≤ Yandex Container Registry

## –ü—Ä–æ–±–ª–µ–º–∞
```
denied: Permission denied ; requestId = ...
Error: Process completed with exit code 1.
```

## –ü—Ä–∏—á–∏–Ω–∞
Service Account –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –Ω–∞ push –æ–±—Ä–∞–∑–æ–≤ –≤ Container Registry.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å –Ω–∞ —É—Ä–æ–≤–Ω–µ Registry (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Yandex Cloud Console](https://console.cloud.yandex.ru/)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Container Registry** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à registry (`crpvi47750ad2ea2hfdb`)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
4. –ù–∞–∂–º–∏—Ç–µ **–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª–∏**
5. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à Service Account (ID: `ajepfe0asise6kmhf6om`)
6. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å: **Images Pusher** (`container-registry.images.pusher`)
7. –ù–∞–∂–º–∏—Ç–µ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±–ª–∞–∫–∞

1. Yandex Cloud Console ‚Üí **IAM** ‚Üí **Service Accounts**
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Service Account (ID: `ajepfe0asise6kmhf6om`)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **–†–æ–ª–∏**
4. –ù–∞–∂–º–∏—Ç–µ **–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª–∏**
5. –í—ã–±–µ—Ä–∏—Ç–µ –æ–±–ª–∞—Å—Ç—å: **–û–±–ª–∞–∫–æ** (–≤–∞—à–µ –æ–±–ª–∞–∫–æ)
6. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å: **Container Registry ‚Üí Images Pusher** (`container-registry.images.pusher`)
7. –ù–∞–∂–º–∏—Ç–µ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ä–æ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Service Account –∏–º–µ–µ—Ç —Ä–æ–ª—å `container-registry.images.pusher` –Ω–∞ —É—Ä–æ–≤–Ω–µ:
- **Registry** (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ) - –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ registry
- **–û–±–ª–∞–∫–æ** - –¥–ª—è –≤—Å–µ—Ö registry –≤ –æ–±–ª–∞–∫–µ

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤

–ü–æ—Å–ª–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–∏:

1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã (–ø—Ä–∞–≤–∞ –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ GitHub Actions workflow —Å–Ω–æ–≤–∞ (Actions ‚Üí Run workflow)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ push –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**Service Account ID:** `ajepfe0asise6kmhf6om`  
**Registry ID:** `crpvi47750ad2ea2hfdb`  
**Key ID:** `ajedivglnfjb9nqskqgr`

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –†–æ–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ **—Ç–æ—Ç –∂–µ registry**, –∫—É–¥–∞ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø—É—à–∏—Ç—å
- –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ registry, –Ω—É–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ
- –ü—Ä–∞–≤–∞ –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–æ 1-2 –º–∏–Ω—É—Ç

